Terminator = "";
MaxInput = 13;
ExtraInput = Ignore;
################################################################################
# Control and Status Register FOUT [0]

fout_ctrl_get{
	out "%(\$1\$2cmd_ctrl_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
	in "\xc0%*04r%*04r%*04r";
}

fout_ctrl_set{
	out "%(\$1\$2cmd_ctrl_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1\$2DevEnbl-Sel)r";
	fout_ctrl_get;
}

# Interrupts

fout_ctrl_en_intr{
	in "\xc0%*04r%*04r%*03r%r";
}

fout_ctrl_link_intr{
	in "\xc0%*04r%*04r%*02r%r%*r";
}

fout_ctrl_los_intr{
	in "\xc0%*04r%*04r%r%*03r";
}

################################################################################
# Control and Status Register EVE & EVR [0]
evre_ctrl_get {
    out "%(\$1\$2cmd_ctrl_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xc0%*04r%*04r%*02r%*r%*r";
}

evre_ctrl_set {
    out "%(\$1\$2cmd_ctrl_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1\$2DevEnbl-Sel)b";
    evre_ctrl_get;
}

# Interrupts

evre_ctrl_enableRAW_intr{
    in "\xc0%*04r%*04r%*02r%*r%r";
}

evre_ctrl_linkinhs_intr{
    in "\xc0%*04r%*04r%*02r%r%*r";
}

################################################################################
# Control and Status Register EVG [0]
evg_ctrl_get {
    out "%(\$1\$2cmd_ctrl_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xc0%*04r%*04r%*04r"; # waiting for an answer to trigger interrupts before run next command 
}

evg_ctrl_seq_en_set{
    out "%(\$1\$2cmd_ctrl_set).1r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1\$2\$3).1r";
    evg_ctrl_get;
}

evg_ctrl_set{
    out "%(\$1\$2cmd_ctrl_set).1r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1\$2SeqEnblDevEnblCalc).1r";
    evg_ctrl_get;
}

# Interrupts

evg_ctrl_los_intr{
    in "\xc0%*04r%*04r%r%*02r%*r";
}

evg_ctrl_seqstat_rfstat_intr{
    in "\xc0%*04r%*04r%*02r%r%*r";
}

evg_ctrl_seqen_enable_intr{
    in "\xc0%*04r%*04r%*02r%*r%r";
}

################################################################################
# OTP Registers [1 - 16]
evre_otp_get {
    out "%(\$1\$2cmd_otp_get\$3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses\$3RBV)02r%(\$1\$2event\$3RBV)0r%(\$1\$2delay\$3RBV)04r%(\$1\$2width\$3RBV)04r";
}

evre_otp_ev_set {
    out "%(\$1\$2cmd_otp_set\$3)r%(\$1\$2enpoltime\$3RBV.RVAL)r%(\$1\$2pulses\$3RBV).2r%(\$1\$2event\$3)r%(\$1\$2delay\$3RBV).4r%(\$1\$2width\$3RBV).4r";
    evre_otp_get;
}

evre_otp_pulses_set{
    out "%(\$1\$2cmd_otp_set\$3)r%(\$1\$2enpoltime\$3RBV.RVAL)r%(\$1\$2pulses\$3).2r%(\$1\$2event\$3RBV)r%(\$1\$2delay\$3RBV).4r%(\$1\$2width\$3RBV).4r";
    evre_otp_get;
}

evre_otp_width_set {
    out "%(\$1\$2cmd_otp_set\$3)r%(\$1\$2enpoltime\$3RBV.RVAL)r%(\$1\$2pulses\$3RBV).2r%(\$1\$2event\$3RBV)r%(\$1\$2delay\$3RBV).4r%(\$1\$2width\$3).4r";
    evre_otp_get;
}

evre_otp_dly_set {
    out "%(\$1\$2cmd_otp_set\$3)r%(\$1\$2enpoltime\$3RBV.RVAL)r%(\$1\$2pulses\$3RBV).2r%(\$1\$2event\$3RBV)r%(\$1\$2delay\$3).4r%(\$1\$2width\$3RBV).4r";
    evre_otp_get;
}

evre_otp_en_pol_time_set {
    out "%(\$1\$2cmd_otp_set\$3)r%(\$1\$2\$4\$3)r%(\$1\$2pulses\$3RBV).2r%(\$1\$2event\$3RBV)r%(\$1\$2delay\$3RBV).4r%(\$1\$2width\$3RBV).4r";
    evre_otp_get;
}

evre_otp_set {
    out "%(\$1\$2cmd_otp_set\$3)r%(\$1\$2enpoltime\$3)r%(\$1\$2pulses\$3).2r%(\$1\$2event\$3)r%(\$1\$2delay\$3).4r%(\$1\$2width\$3).4r";
    evre_otp_get;
}

# Interrupts

evre_otp_enpoltime0RBV_intr{
    in "\xC1%r%*03r%*04r%*04r";
}
evre_otp_enpoltime1RBV_intr{
    in "\xC2%r%*03r%*04r%*04r";
}
evre_otp_enpoltime2RBV_intr{
    in "\xC3%r%*03r%*04r%*04r";
}
evre_otp_enpoltime3RBV_intr{
    in "\xC4%r%*03r%*04r%*04r";
}
evre_otp_enpoltime4RBV_intr{
    in "\xC5%r%*03r%*04r%*04r";
}
evre_otp_enpoltime5RBV_intr{
    in "\xC6%r%*03r%*04r%*04r";
}
evre_otp_enpoltime6RBV_intr{
    in "\xC7%r%*03r%*04r%*04r";
}
evre_otp_enpoltime7RBV_intr{
    in "\xC8%r%*03r%*04r%*04r";
}
evre_otp_enpoltime8RBV_intr{
    in "\xC9%r%*03r%*04r%*04r";
}
evre_otp_enpoltime9RBV_intr{
    in "\xCA%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeARBV_intr{
    in "\xCB%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeBRBV_intr{
    in "\xCC%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeCRBV_intr{
    in "\xCD%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeDRBV_intr{
    in "\xCE%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeERBV_intr{
    in "\xCF%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeFRBV_intr{
    in "\xD0%r%*03r%*04r%*04r";
}

################################################################################
# OUT Registers [17 - 24]
evre_out_get {
    out "%(\$1\$2cmd_out_get\$3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly\$3RBV)02r%*03r%(\$1\$2rfdly\$3RBV)r";
}

evre_out_rfdly_set{
    out "%(\$1\$2cmd_out_set\$3).1r%(\$1\$2itl\$3RAW.RVAL).1r\x00\x00%(\$1\$2sel\$3RAW).1r\x00\x00%(\$1\$2finedly\$3RBV).2r\x00\x00\x00%(\$1\$2rfdly\$3).1r";
    evre_out_get;
}

evre_out_finedly_set{
    out "%(\$1\$2cmd_out_set\$3).1r%(\$1\$2itl\$3RAW.RVAL).1r\x00\x00%(\$1\$2sel\$3RAW).1r\x00\x00%(\$1\$2finedly\$3).2r\x00\x00\x00%(\$1\$2rfdly\$3RBV).1r";
    evre_out_get;
}

evre_out_sel_set{
    out "%(\$1\$2cmd_out_set\$3).1r%(\$1\$2itl\$3RAW.RVAL).1r\x00\x00%(\$1\$2sel\$3toHW).1r\x00\x00%(\$1\$2finedly\$3RBV).2r\x00\x00\x00%(\$1\$2rfdly\$3RBV).1r";
    evre_out_get;
}

evre_out_itl_set{
    out "%(\$1\$2cmd_out_set\$3).1r%(\$1\$2ITL\$3).1r\x00\x00%(\$1\$2sel\$3RAW).1r\x00\x00%(\$1\$2finedly\$3RBV).2r\x00\x00\x00%(\$1\$2rfdly\$3RBV).1r";
    evre_out_get;
}

evre_out_set{
    out "%(\$1\$2cmd_out_set\$3).1r%(\$1\$2ITL\$3).1r\x00\x00%(\$1\$2sel\$3toHW).1r\x00\x00%(\$1\$2finedly\$3).2r\x00\x00\x00%(\$1\$2rfdly\$3).1r";
    evre_out_get;
}

# Interrupts

evre_out_itl0RAW_intr{
    in "\xD1%r%*03r%*04r%*04r";
}
evre_out_itl1RAW_intr{
    in "\xD2%r%*03r%*04r%*04r";
}
evre_out_itl2RAW_intr{
    in "\xD3%r%*03r%*04r%*04r";
}
evre_out_itl3RAW_intr{
    in "\xD4%r%*03r%*04r%*04r";
}
evre_out_itl4RAW_intr{
    in "\xD5%r%*03r%*04r%*04r";
}
evre_out_itl5RAW_intr{
    in "\xD6%r%*03r%*04r%*04r";
}
evre_out_itl6RAW_intr{
    in "\xD7%r%*03r%*04r%*04r";
}
evre_out_itl7RAW_intr{
    in "\xD8%r%*03r%*04r%*04r";
}

evre_out_sel0RAW_intr{
    in "\xD1%*03r%r%*04r%*04r";
}
evre_out_sel1RAW_intr{
    in "\xD2%*03r%r%*04r%*04r";
}
evre_out_sel2RAW_intr{
    in "\xD3%*03r%r%*04r%*04r";
}
evre_out_sel3RAW_intr{
    in "\xD4%*03r%r%*04r%*04r";
}
evre_out_sel4RAW_intr{
    in "\xD5%*03r%r%*04r%*04r";
}
evre_out_sel5RAW_intr{
    in "\xD6%*03r%r%*04r%*04r";
}
evre_out_sel6RAW_intr{
    in "\xD7%*03r%r%*04r%*04r";
}
evre_out_sel7RAW_intr{
    in "\xD8%*03r%r%*04r%*04r";
}

################################################################################
# Clock mode select EVE [25]
eve_rf_get {
    out "\x99\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xd9%*04r%*04r%*04r";
}

eve_rf_set {
    out "\x59\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1\$2cmsel)r";
    eve_rf_get;
}

# Interrupts

eve_rf_intr {
    in "\xd9%*04r%*04r%*03r%r";
}

################################################################################
# AC Line register [40]
evg_acline_get {
    out "%(\$1\$2cmd_acdiv_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xE8%*03r%(\$1\$2ACEnbl-Sts)r%*04r%*04r";
}

evg_acline_acen_set{
    out "%(\$1\$2cmd_acdiv_set).1r\x00\x00\x00%(\$1\$2ACEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2ACDiv-Raw).4r";
    evg_acline_get;
}

evg_acline_acdiv_set{
    out "%(\$1\$2cmd_acdiv_set).1r\x00\x00\x00%(\$1\$2ACEnbl-Sts).1r\x00\x00\x00\x00%(\$1\$2ACDiv-SP.RVAL).4r";
    evg_acline_get;
}

evg_acline_set{
    out "%(\$1\$2cmd_acdiv_set).1r\x00\x00\x00%(\$1\$2ACEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2ACDiv-SP.RVAL).4r";
    evg_acline_get;
}

# Interrupts

evg_acline_acdivraw_intr{
    in "\xE8%*03r%*r%*04r%04r";
}

################################################################################
# Mux register [41 - 48]
evg_mux_get {
    out "%(\$1\$2cmd_mux_get\$3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2Clk\$3MuxEnbl-Sts)r%*04r%*04r";
}

evg_mux_en_set{
    out "%(\$1\$2cmd_mux_set\$3).1r\x00\x00\x00%(\$1\$2Clk\$3MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk\$3MuxDiv-Raw).4r";
    evg_mux_get;
}

evg_mux_div_set{
    out "%(\$1\$2cmd_mux_set\$3).1r\x00\x00\x00%(\$1\$2Clk\$3MuxEnbl-Sts).1r\x00\x00\x00\x00%(\$1\$2Clk\$3MuxDiv-SP.RVAL).4r";
    evg_mux_get;
}

evg_mux_set{
    out "%(\$1\$2cmd_mux_set\$3).1r\x00\x00\x00%(\$1\$2Clk\$3MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk\$3MuxDiv-SP.RVAL).4r";
    evg_mux_get;
}

# Mux interrupts

evg_mux_div0RAW_intr{
    in "\xE9%*03r%*r%*04r%04r";
}
evg_mux_div1RAW_intr{
    in "\xEA%*03r%*r%*04r%04r";
}
evg_mux_div2RAW_intr{
    in "\xEB%*03r%*r%*04r%04r";
}
evg_mux_div3RAW_intr{
    in "\xEC%*03r%*r%*04r%04r";
}
evg_mux_div4RAW_intr{
    in "\xED%*03r%*r%*04r%04r";
}
evg_mux_div5RAW_intr{
    in "\xEE%*03r%*r%*04r%04r";
}
evg_mux_div6RAW_intr{
    in "\xEF%*03r%*r%*04r%04r";
}
evg_mux_div7RAW_intr{
    in "\xF0%*03r%*r%*04r%04r";
}

################################################################################
# SEQRAM setting register [49]
evg_seqramset_set{
    out "%(\$1\$2cmd_seqram_set).1r\x00\x00%(\$1\$2SeqAddr-SP).2r\x00\x00\x00%(\$1\$2SeqCode-SP).1r%(\$1\$2SeqTime-SP).4r";
}

################################################################################
# SEQRAM switch register [50]
evg_seqramsw_get {
    out "%(\$1\$2cmd_seqramsw_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xF2%*04r%*04r%*02r%(\$1\$2SeqCount-SP.RVAL)02r";
}

evg_seqramsw_set{
    out "%(\$1\$2cmd_seqramsw_set).1r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    evg_seqramsw_get;
}

################################################################################
# Timestamp register EVG [51]
evg_tmstmp_get{
    out "%(\$1\$2cmd_tmstmp_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xF3%(\$1\$2UTC-RB)04r%(\$1\$2SubSecond-Mon)04r%*04r";
}

evg_tmstmp_utc_set{
    out "%(\$1\$2cmd_tmstmp_set)r%(\$1\$2UTC-SP).4r\x00\x00\x00\x00\x00\x00\x00%(\$1\$2TimestampSrc-Sts.RVAL)r";
    evg_tmstmp_get;
}

# utc receives 0 causing it to be broadcast
evg_tmstmp_timesrc_set{
    out "%(\$1\$2cmd_tmstmp_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1\$2TimestampSrc-Sel.RVAL)r";
    evg_tmstmp_get;
}

evg_tmstmp_set{
    out "%(\$1\$2cmd_tmstmp_set)r%(\$1\$2UTC-SP).4r\x00\x00\x00\x00\x00\x00\x00%(\$1\$2TimestampSrc-Sel.RVAL)r";
    evg_tmstmp_get;
}

# Interrupts

evg_tmstmp_timesrcRBV_intr{
    in "\xF3%*04r%*04r%*03r%r";
}


################################################################################
# Timestamp register EVE & EVR [51]
evre_tmstmp_get{
    out "%(\$1\$2cmd_tmstmp_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xF3%(\$1\$2UTC-RB)04r%(\$1\$2SubSecond-Mon)04r%*04r";
}

evre_tmstmp_set{
    out "%(\$1\$2cmd_tmstmp_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1\$2TimestampSrc-Sel)r";
    evre_tmstmp_get;
}

# Interrupts

evre_tmstmp_timesrcRBV_intr{
    in "\xF3%*04r%*04r%*03r%r";
}

################################################################################
# Timestamp log register EVE & EVR [52]

evre_log_get{
    out "%(\$1\$2cmd_log_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xF4%(\$1\$2LOGUTC)04r%(\$1\$2LOGSUBSEC)04r%(\$1\$2LOGEVENT)r%(\$1\$2LOGCOUNT)02r%*r";
    @init{
	out "%(\$1\$2cmd_log_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    	in "\xF4%*04r%*04r%*03r%(\$1\$2stoplogAUX)r";
    }
}

evre_log_set{
    out "%(\$1\$2cmd_log_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1\$2\$3)r";
    # reading of register is made by record "onlyRead" or "readAndUpdate" to assure synchronization
}

# Interrupts

evre_log_ctrlRBV_intr{
    in "\xF4%*04r%*04r%*03r%r";
}

################################################################################
# Digital input	EVG		[53-54]
#		EVE & EVR 	[53-55]

evgre_diginp_get {
    out "%(\$1\$2cmd_diginp_get\$3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2DIEvent\$3-RB)0r%*04r%*04r";
}

evgre_diginp_ev_set {
    out "%(\$1\$2cmd_diginp_set\$3)r%(\$1\$2DI\$3-Raw.RVAL)r\x00\x00%(\$1\$2DIEvent\$3-SP)r\x00\x00\x00\x00\x00\x00\x00\x00";
    evgre_diginp_get;
}

evgre_diginp_ept_set {
    out "%(\$1\$2cmd_diginp_set\$3)r%(\$1\$2\$4)r\x00\x00%(\$1\$2DIEvent\$3-RB)r\x00\x00\x00\x00\x00\x00\x00\x00";
    evgre_diginp_get;
}

evgre_diginp_set {
    out "%(\$1\$2cmd_diginp_set\$3)r%(\$1\$2DI\$3Calc)r\x00\x00%(\$1\$2DIEvent\$3-SP)r\x00\x00\x00\x00\x00\x00\x00\x00";
    evgre_diginp_get;
}

# Interrupts

evgre_diginp0_intr{
    in "\xF5%r%*03r%*04r%*04r";
}
evgre_diginp1_intr{
    in "\xF6%r%*03r%*04r%*04r";
}
evgre_diginp2_intr{
    in "\xF7%r%*03r%*04r%*04r";
}

################################################################################
# Interlock map	EVG		[56]

evg_ilockmap_get {
    out "%(\$1\$2cmd_evg_ilockmap_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%(\$1\$2IntlkTbl16to27-Sts)02r%(\$1\$2IntlkTbl0to15-Sts)02r%(\$1\$2IntlkEvtOut-RB)0r%(\$1\$2IntlkEvtIn6-RB)0r%(\$1\$2IntlkEvtIn5-RB)0r%(\$1\$2IntlkEvtIn4-RB)0r%(\$1\$2IntlkEvtIn3-RB)0r%(\$1\$2IntlkEvtIn2-RB)0r%(\$1\$2IntlkEvtIn1-RB)0r%(\$1\$2IntlkEvtIn0-RB)0r";
}

evg_ilockmap_upload {
    out "%(\$1\$2cmd_evg_ilockmap_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%(\$1\$2IntlkTbl16to27-Sel)02r%(\$1\$2IntlkTbl0to15-Sel)02r%(\$1\$2IntlkEvtOut-RB)0r%(\$1\$2IntlkEvtIn6-RB)0r%(\$1\$2IntlkEvtIn5-RB)0r%(\$1\$2IntlkEvtIn4-RB)0r%(\$1\$2IntlkEvtIn3-RB)0r%(\$1\$2IntlkEvtIn2-RB)0r%(\$1\$2IntlkEvtIn1-RB)0r%(\$1\$2IntlkEvtIn0-RB)0r";
}

evg_ilockmap_map_set {
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTblCalc).4r%(\$1\$2IntlkEvtOut-RB)r%(\$1\$2IntlkEvtIn6-RB)r%(\$1\$2IntlkEvtIn5-RB)r%(\$1\$2IntlkEvtIn4-RB)r%(\$1\$2IntlkEvtIn3-RB)r%(\$1\$2IntlkEvtIn2-RB)r%(\$1\$2IntlkEvtIn1-RB)r%(\$1\$2IntlkEvtIn0-RB)r";
    evg_ilockmap_get;
}

evg_ilockmap_ev0_set {
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTbl16to27-Sts).2r%(\$1\$2IntlkTbl0to15-Sts).2r%(\$1\$2IntlkEvtOut-RB)r%(\$1\$2IntlkEvtIn6-RB)r%(\$1\$2IntlkEvtIn5-RB)r%(\$1\$2IntlkEvtIn4-RB)r%(\$1\$2IntlkEvtIn3-RB)r%(\$1\$2IntlkEvtIn2-RB)r%(\$1\$2IntlkEvtIn1-RB)r%(\$1\$2IntlkEvtIn0-SP)r";
    evg_ilockmap_get;
}

evg_ilockmap_ev1_set {
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTbl16to27-Sts).2r%(\$1\$2IntlkTbl0to15-Sts).2r%(\$1\$2IntlkEvtOut-RB)r%(\$1\$2IntlkEvtIn6-RB)r%(\$1\$2IntlkEvtIn5-RB)r%(\$1\$2IntlkEvtIn4-RB)r%(\$1\$2IntlkEvtIn3-RB)r%(\$1\$2IntlkEvtIn2-RB)r%(\$1\$2IntlkEvtIn1-SP)r%(\$1\$2IntlkEvtIn0-RB)r";
    evg_ilockmap_get;
}

evg_ilockmap_ev2_set {
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTbl16to27-Sts).2r%(\$1\$2IntlkTbl0to15-Sts).2r%(\$1\$2IntlkEvtOut-RB)r%(\$1\$2IntlkEvtIn6-RB)r%(\$1\$2IntlkEvtIn5-RB)r%(\$1\$2IntlkEvtIn4-RB)r%(\$1\$2IntlkEvtIn3-RB)r%(\$1\$2IntlkEvtIn2-SP)r%(\$1\$2IntlkEvtIn1-RB)r%(\$1\$2IntlkEvtIn0-RB)r";
    evg_ilockmap_get;
}

evg_ilockmap_ev3_set {
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTbl16to27-Sts).2r%(\$1\$2IntlkTbl0to15-Sts).2r%(\$1\$2IntlkEvtOut-RB)r%(\$1\$2IntlkEvtIn6-RB)r%(\$1\$2IntlkEvtIn5-RB)r%(\$1\$2IntlkEvtIn4-RB)r%(\$1\$2IntlkEvtIn3-SP)r%(\$1\$2IntlkEvtIn2-RB)r%(\$1\$2IntlkEvtIn1-RB)r%(\$1\$2IntlkEvtIn0-RB)r";
    evg_ilockmap_get;
}

evg_ilockmap_ev4_set {
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTbl16to27-Sts).2r%(\$1\$2IntlkTbl0to15-Sts).2r%(\$1\$2IntlkEvtOut-RB)r%(\$1\$2IntlkEvtIn6-RB)r%(\$1\$2IntlkEvtIn5-RB)r%(\$1\$2IntlkEvtIn4-SP)r%(\$1\$2IntlkEvtIn3-RB)r%(\$1\$2IntlkEvtIn2-RB)r%(\$1\$2IntlkEvtIn1-RB)r%(\$1\$2IntlkEvtIn0-RB)r";
    evg_ilockmap_get;
}

evg_ilockmap_ev5_set {
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTbl16to27-Sts).2r%(\$1\$2IntlkTbl0to15-Sts).2r%(\$1\$2IntlkEvtOut-RB)r%(\$1\$2IntlkEvtIn6-RB)r%(\$1\$2IntlkEvtIn5-SP)r%(\$1\$2IntlkEvtIn4-RB)r%(\$1\$2IntlkEvtIn3-RB)r%(\$1\$2IntlkEvtIn2-RB)r%(\$1\$2IntlkEvtIn1-RB)r%(\$1\$2IntlkEvtIn0-RB)r";
    evg_ilockmap_get;
}

evg_ilockmap_ev6_set {
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTbl16to27-Sts).2r%(\$1\$2IntlkTbl0to15-Sts).2r%(\$1\$2IntlkEvtOut-RB)r%(\$1\$2IntlkEvtIn6-SP)r%(\$1\$2IntlkEvtIn5-RB)r%(\$1\$2IntlkEvtIn4-RB)r%(\$1\$2IntlkEvtIn3-RB)r%(\$1\$2IntlkEvtIn2-RB)r%(\$1\$2IntlkEvtIn1-RB)r%(\$1\$2IntlkEvtIn0-RB)r";
    evg_ilockmap_get;
}

evg_ilockmap_evout_set {
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTbl16to27-Sts).2r%(\$1\$2IntlkTbl0to15-Sts).2r%(\$1\$2IntlkEvtOut-SP)r%(\$1\$2IntlkEvtIn6-RB)r%(\$1\$2IntlkEvtIn5-RB)r%(\$1\$2IntlkEvtIn4-RB)r%(\$1\$2IntlkEvtIn3-RB)r%(\$1\$2IntlkEvtIn2-RB)r%(\$1\$2IntlkEvtIn1-RB)r%(\$1\$2IntlkEvtIn0-RB)r";
    evg_ilockmap_get;
}

# Interrupts

#evgre_diginp_intr{
#    in "\xF8%r%*03r%*04r%*04r";
#}

################################################################################
# Interlock Status	EVG		[57]

evg_ilockcontrol_get {
    out "%(\$1\$2cmd_evg_ilockcontrol_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%(\$1\$2IntlkCtrl-Raw)r%*03r%*04r%*03r%*r";
}

evg_ilockcontrol_set {
    out "%(\$1\$2cmd_evg_ilockcontrol_set)r%(\$1\$2IntlkCtrl\$3)r\x00\x00\x00%(\$1\$2IntlkCtrlRepeatTime-RB).4r\x00\x00\x00\x00";
    evg_ilockcontrol_get;
}

evg_ilockrepeat_time_set {
    out "%(\$1\$2cmd_evg_ilockcontrol_set)r%(\$1\$2IntlkCtrl-Raw)r\x00\x00\x00%(\$1\$2IntlkCtrlRepeatTime-SP).4r\x00\x00\x00\x00";
    evg_ilockcontrol_get;
}

evg_ilock_status_intr {
    in "\xF9%*04r%*04r%*03r%r";
}

evg_ilock_control_intr {
    in "\xF9%r%*04r%*04r%*03r";
}

evg_ilock_repeat_time_intr {
    in "\xF9%*04r%04r%*04r";
}

#evg_ilock_status {
#    out "%(\$1\$2cmd_evg_ilockcontrol_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
#    in "\xF9%(\$1\$2IntlkCtrl-Raw)r%*03r%*04r%*03r%(\$1\$2IntlkEvtStatus-Mon)r";
#}

################################################################################
# Firmware version register EVG, Fanout, EVR & EVE [62]

frmvrs_get{
    out "%(\$1\$2cmd_frmvrs_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xFE%(\$1\$2FrmVersionA-Cte)04r%(\$1\$2FrmVersionB-Cte)04r%(\$1\$2FrmVersionC-Cte)04r";
    @init{
	out "%(\$1\$2cmd_frmvrs_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    	in "\xFE%(\$1\$2FrmVersionA-Cte)04r%(\$1\$2FrmVersionB-Cte)04r%(\$1\$2FrmVersionC-Cte)04r";
    }
}

################################################################################
# Configutarion Register EVG [63]

evg_conf_get {
    out "%(\$1\$2cmd_conf_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xFF%*04r%*04r%*04r";
}

evg_conf_funsel_set{
    out "%(\$1\$2cmd_conf_set).1r\x00\x00\x00\x00\x00%(\$1\$2RFDiv-Raw).1r\x00\x00\x00\x00\x00%(\$1\$2DevFun-Sel.RVAL).1r";
    evg_conf_get;
}

evg_conf_rfdiv_set{
    out "%(\$1\$2cmd_conf_set).1r\x00\x00\x00\x00\x00%(\$1\$2RFDiv-SP.RVAL).1r\x00\x00\x00\x00\x00%(\$1\$2DevFun-Sts.RVAL).1r";
    evg_conf_get;
}

evg_conf_set{
    out "%(\$1\$2cmd_conf_set).1r\x00\x00\x00\x00\x00%(\$1\$2RFDiv-SP.RVAL).1r\x00\x00\x00\x00\x00%(\$1\$2DevFun-Sel.RVAL).1r";
    evg_conf_get;
}

# Interrupts

evg_conf_alive_intr{
    in "\xFF%04r%*04r%*04r";
}

evg_conf_rfdivRAW_intr{
    in "\xFF%*04r%*r%r%*02r%*04r";
}

evg_conf_funsel_intr{
    in "\xFF%*04r%*04r%*03r%r";
}

################################################################################
# Configutarion register EVR/EVE [63]

evr_conf_get {
    out "%(\$1\$2cmd_conf_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xFF%*04r%*04r%*04r";
}

evr_conf_funsel_set{
    out "%(\$1\$2cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00%(\$1\$2clkmodeRBV.RVAL).1r\x00\x00\x00%(\$1\$2DevFun-Sel.RVAL).1r";
    evr_conf_get;
}

evr_conf_clk_set{
    out "%(\$1\$2cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00%(\$1\$2clkmode.RVAL).1r\x00\x00\x00%(\$1\$2DevFun-Sts.RVAL).1r";
    evr_conf_get;
}

evr_conf_set{
    out "%(\$1\$2cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00%(\$1\$2clkmode.RVAL).1r\x00\x00\x00%(\$1\$2DevFun-Sel.RVAL).1r";
    evr_conf_get;
}


eve_conf_get {
    out "%(\$1\$2cmd_conf_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xFF%*04r%*04r%*04r";
}

eve_conf_set{
    out "%(\$1\$2cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00%(\$1\$2clkmode.RVAL).1r\x00\x00\x00\x20";
    eve_conf_get;
}

# Interrupts


evre_conf_alive_intr{
    in "\xFF%04r%*04r%*04r";
}

evre_conf_funsel_intr{
    in "\xFF%*04r%*04r%*03r%r";
}

evre_conf_clkmode_intr{
    in "\xFF%*04r%*03r%r%*04r";
}

################################################################################
# Configutarion register FOUT [63]

fout_conf_get{
	out "%(\$1\$2cmd_conf_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
	in "\xFF%*04r%*04r%*04r";
}

fout_conf_set{
	out "%(\$1\$2cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1\$2DevFun-Sel.RVAL).1r";
    fout_conf_get;
}

# Interrupts

fout_conf_alive_intr{
	in "\xFF%04r%*04r%*04r";
}

fout_conf_funsel_intr{
	in "\xFF%*04r%*04r%*03r%r";
}

########################################################################
# Upload commands (From Hardware to IOC)

eve_upload{
    # OTPs upload 
    # otp0    
    out "%(\$1\$2cmd_otp_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses0RBV)02r%(\$1\$2event0RBV)r%(\$1\$2delay0RBV)04r%(\$1\$2width0RBV)04r";
    # otp1
    out "%(\$1\$2cmd_otp_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses1RBV)02r%(\$1\$2event1RBV)r%(\$1\$2delay1RBV)04r%(\$1\$2width1RBV)04r";
    # otp2
    out "%(\$1\$2cmd_otp_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses2RBV)02r%(\$1\$2event2RBV)r%(\$1\$2delay2RBV)04r%(\$1\$2width2RBV)04r";
    # otp3
    out "%(\$1\$2cmd_otp_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses3RBV)02r%(\$1\$2event3RBV)r%(\$1\$2delay3RBV)04r%(\$1\$2width3RBV)04r";
    # otp4
    out "%(\$1\$2cmd_otp_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses4RBV)02r%(\$1\$2event4RBV)r%(\$1\$2delay4RBV)04r%(\$1\$2width4RBV)04r";
    # otp5
    out "%(\$1\$2cmd_otp_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses5RBV)02r%(\$1\$2event5RBV)r%(\$1\$2delay5RBV)04r%(\$1\$2width5RBV)04r";
    # otp6
    out "%(\$1\$2cmd_otp_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses6RBV)02r%(\$1\$2event6RBV)r%(\$1\$2delay6RBV)04r%(\$1\$2width6RBV)04r";
    # otp7
    out "%(\$1\$2cmd_otp_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses7RBV)02r%(\$1\$2event7RBV)r%(\$1\$2delay7RBV)04r%(\$1\$2width7RBV)04r";
    # otp8
    out "%(\$1\$2cmd_otp_get8)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses8RBV)02r%(\$1\$2event8RBV)r%(\$1\$2delay8RBV)04r%(\$1\$2width8RBV)04r";
    # otp9
    out "%(\$1\$2cmd_otp_get9)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses9RBV)02r%(\$1\$2event9RBV)r%(\$1\$2delay9RBV)04r%(\$1\$2width9RBV)04r";
    # otpa
    out "%(\$1\$2cmd_otp_getA)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesARBV)02r%(\$1\$2eventARBV)r%(\$1\$2delayARBV)04r%(\$1\$2widthARBV)04r";
    # otpb
    out "%(\$1\$2cmd_otp_getB)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesBRBV)02r%(\$1\$2eventBRBV)r%(\$1\$2delayBRBV)04r%(\$1\$2widthBRBV)04r";
    # otpc
    out "%(\$1\$2cmd_otp_getC)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesCRBV)02r%(\$1\$2eventCRBV)r%(\$1\$2delayCRBV)04r%(\$1\$2widthCRBV)04r";
    # otpd
    out "%(\$1\$2cmd_otp_getD)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesDRBV)02r%(\$1\$2eventDRBV)r%(\$1\$2delayDRBV)04r%(\$1\$2widthDRBV)04r";
    # otpe
    out "%(\$1\$2cmd_otp_getE)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesERBV)02r%(\$1\$2eventERBV)r%(\$1\$2delayERBV)04r%(\$1\$2widthERBV)04r";
    # otpf
    out "%(\$1\$2cmd_otp_getF)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesFRBV)02r%(\$1\$2eventFRBV)r%(\$1\$2delayFRBV)04r%(\$1\$2widthFRBV)04r";
    
    # OUTs upload
    # out0
    out "%(\$1\$2cmd_out_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly0RBV)02r%*03r%(\$1\$2rfdly0RBV)r";
    # out1
    out "%(\$1\$2cmd_out_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly1RBV)02r%*03r%(\$1\$2rfdly1RBV)r";
    # out2
    out "%(\$1\$2cmd_out_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly2RBV)02r%*03r%(\$1\$2rfdly2RBV)r";
    # out3
    out "%(\$1\$2cmd_out_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly3RBV)02r%*03r%(\$1\$2rfdly3RBV)r";
    # out4
    out "%(\$1\$2cmd_out_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly4RBV)02r%*03r%(\$1\$2rfdly4RBV)r";
    # out5
    out "%(\$1\$2cmd_out_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly5RBV)02r%*03r%(\$1\$2rfdly5RBV)r";
    # out6
    out "%(\$1\$2cmd_out_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly6RBV)02r%*03r%(\$1\$2rfdly6RBV)r";
    # out7
    out "%(\$1\$2cmd_out_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly7RBV)02r%*03r%(\$1\$2rfdly7RBV)r";

    # Digital inputs upload
    # digin0
    out "%(\$1\$2cmd_diginp_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2DIEvent0-RB)0r%*04r%*04r";    
    # digin1
    out "%(\$1\$2cmd_diginp_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2DIEvent1-RB)0r%*04r%*04r";    
    # digin2
    out "%(\$1\$2cmd_diginp_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2digev2RBV)0r%*04r%*04r";    

    # RF output upload
	eve_rf_get;
    # Timestamp log
    	evre_log_get;
    # Timestamp
	evre_tmstmp_get;
}

evr_upload{
    # OTPs upload 
    # otp0
    out "%(\$1\$2cmd_otp_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses0RBV)02r%(\$1\$2event0RBV)r%(\$1\$2delay0RBV)04r%(\$1\$2width0RBV)04r";
    # otp1
    out "%(\$1\$2cmd_otp_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses1RBV)02r%(\$1\$2event1RBV)r%(\$1\$2delay1RBV)04r%(\$1\$2width1RBV)04r";
    # otp2
    out "%(\$1\$2cmd_otp_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses2RBV)02r%(\$1\$2event2RBV)r%(\$1\$2delay2RBV)04r%(\$1\$2width2RBV)04r";
    # otp3
    out "%(\$1\$2cmd_otp_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses3RBV)02r%(\$1\$2event3RBV)r%(\$1\$2delay3RBV)04r%(\$1\$2width3RBV)04r";
    # otp4
    out "%(\$1\$2cmd_otp_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses4RBV)02r%(\$1\$2event4RBV)r%(\$1\$2delay4RBV)04r%(\$1\$2width4RBV)04r";
    # otp5
    out "%(\$1\$2cmd_otp_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses5RBV)02r%(\$1\$2event5RBV)r%(\$1\$2delay5RBV)04r%(\$1\$2width5RBV)04r";
    # otp6
    out "%(\$1\$2cmd_otp_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses6RBV)02r%(\$1\$2event6RBV)r%(\$1\$2delay6RBV)04r%(\$1\$2width6RBV)04r";
    # otp7
    out "%(\$1\$2cmd_otp_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses7RBV)02r%(\$1\$2event7RBV)r%(\$1\$2delay7RBV)04r%(\$1\$2width7RBV)04r";
    # otp8
    out "%(\$1\$2cmd_otp_get8)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses8RBV)02r%(\$1\$2event8RBV)r%(\$1\$2delay8RBV)04r%(\$1\$2width8RBV)04r";
    # otp9
    out "%(\$1\$2cmd_otp_get9)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulses9RBV)02r%(\$1\$2event9RBV)r%(\$1\$2delay9RBV)04r%(\$1\$2width9RBV)04r";
    # otpa
    out "%(\$1\$2cmd_otp_getA)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesARBV)02r%(\$1\$2eventARBV)r%(\$1\$2delayARBV)04r%(\$1\$2widthARBV)04r";
    # otpb
    out "%(\$1\$2cmd_otp_getB)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesBRBV)02r%(\$1\$2eventBRBV)r%(\$1\$2delayBRBV)04r%(\$1\$2widthBRBV)04r";
    # otpc
    out "%(\$1\$2cmd_otp_getC)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesCRBV)02r%(\$1\$2eventCRBV)r%(\$1\$2delayCRBV)04r%(\$1\$2widthCRBV)04r";
    # otpd
    out "%(\$1\$2cmd_otp_getD)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesDRBV)02r%(\$1\$2eventDRBV)r%(\$1\$2delayDRBV)04r%(\$1\$2widthDRBV)04r";
    # otpe
    out "%(\$1\$2cmd_otp_getE)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesERBV)02r%(\$1\$2eventERBV)r%(\$1\$2delayERBV)04r%(\$1\$2widthERBV)04r";
    # otpf
    out "%(\$1\$2cmd_otp_getF)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1\$2pulsesFRBV)02r%(\$1\$2eventFRBV)r%(\$1\$2delayFRBV)04r%(\$1\$2widthFRBV)04r";

    # OUTs upload
    # out0
    out "%(\$1\$2cmd_out_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly0RBV)02r%*03r%(\$1\$2rfdly0RBV)r";
    # out1
    out "%(\$1\$2cmd_out_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly1RBV)02r%*03r%(\$1\$2rfdly1RBV)r";
    # out2
    out "%(\$1\$2cmd_out_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly2RBV)02r%*03r%(\$1\$2rfdly2RBV)r";
    # out3
    out "%(\$1\$2cmd_out_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly3RBV)02r%*03r%(\$1\$2rfdly3RBV)r";
    # out4
    out "%(\$1\$2cmd_out_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly4RBV)02r%*03r%(\$1\$2rfdly4RBV)r";
    # out5
    out "%(\$1\$2cmd_out_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly5RBV)02r%*03r%(\$1\$2rfdly5RBV)r";
    # out6
    out "%(\$1\$2cmd_out_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly6RBV)02r%*03r%(\$1\$2rfdly6RBV)r";
    # out7
    out "%(\$1\$2cmd_out_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1\$2finedly7RBV)02r%*03r%(\$1\$2rfdly7RBV)r";

    # Digital inputs upload
    # digin0
    out "%(\$1\$2cmd_diginp_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2DIEvent0-RB)0r%*04r%*04r";    
    # digin1
    out "%(\$1\$2cmd_diginp_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2DIEvent1-RB)0r%*04r%*04r";    
    # digin2
    out "%(\$1\$2cmd_diginp_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2digev2RBV)0r%*04r%*04r";

    # Timestamp log
	evre_log_get;
    # Timestamp
	evre_tmstmp_get;
}

evg_upload{
    # MUXs upload
    # mux0
    out "%(\$1\$2cmd_mux_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2Clk0MuxEnbl-Sts)r%*04r%*04r";
    # mux1
    out "%(\$1\$2cmd_mux_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2Clk1MuxEnbl-Sts)r%*04r%*04r";
    # mux2
    out "%(\$1\$2cmd_mux_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2Clk2MuxEnbl-Sts)r%*04r%*04r";
    # mux3
    out "%(\$1\$2cmd_mux_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2Clk3MuxEnbl-Sts)r%*04r%*04r";
    # mux4
    out "%(\$1\$2cmd_mux_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2Clk4MuxEnbl-Sts)r%*04r%*04r";
    # mux5
    out "%(\$1\$2cmd_mux_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2Clk5MuxEnbl-Sts)r%*04r%*04r";
    # mux6
    out "%(\$1\$2cmd_mux_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2Clk6MuxEnbl-Sts)r%*04r%*04r";
    # mux7
    out "%(\$1\$2cmd_mux_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2Clk7MuxEnbl-Sts)r%*04r%*04r";

    # Digital inputs upload
    # digin0
    out "%(\$1\$2cmd_diginp_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2DIEvent0-RB)0r%*04r%*04r";    
    # digin1
    out "%(\$1\$2cmd_diginp_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1\$2DIEvent1-RB)0r%*04r%*04r";    

    # AC Line
	evg_acline_get;
    # SequenceRAM counter
	evg_seqramsw_get;
    # Timestamp
	evg_tmstmp_get;
	# Interlock Map and Control
	evg_ilockmap_get;
	#evg_ilockmap_upload;
	evg_ilockcontrol_get;
}

########################################################################
# Download commands (From IOC to Hardware)

eve_download{
    # initialize the module
	eve_conf_set;
    # RF output settings
	eve_rf_set;
    # otp
    out "%(\$1\$2cmd_otp_set0)r%(\$1\$2enpoltime0)r%(\$1\$2pulses0).2r%(\$1\$2event0)r%(\$1\$2delay0).4r%(\$1\$2width0).4r";
    out "%(\$1\$2cmd_otp_set1)r%(\$1\$2enpoltime1)r%(\$1\$2pulses1).2r%(\$1\$2event1)r%(\$1\$2delay1).4r%(\$1\$2width1).4r";
    out "%(\$1\$2cmd_otp_set2)r%(\$1\$2enpoltime2)r%(\$1\$2pulses2).2r%(\$1\$2event2)r%(\$1\$2delay2).4r%(\$1\$2width2).4r";
    out "%(\$1\$2cmd_otp_set3)r%(\$1\$2enpoltime3)r%(\$1\$2pulses3).2r%(\$1\$2event3)r%(\$1\$2delay3).4r%(\$1\$2width3).4r";
    out "%(\$1\$2cmd_otp_set4)r%(\$1\$2enpoltime4)r%(\$1\$2pulses4).2r%(\$1\$2event4)r%(\$1\$2delay4).4r%(\$1\$2width4).4r";
    out "%(\$1\$2cmd_otp_set5)r%(\$1\$2enpoltime5)r%(\$1\$2pulses5).2r%(\$1\$2event5)r%(\$1\$2delay5).4r%(\$1\$2width5).4r";
    out "%(\$1\$2cmd_otp_set6)r%(\$1\$2enpoltime6)r%(\$1\$2pulses6).2r%(\$1\$2event6)r%(\$1\$2delay6).4r%(\$1\$2width6).4r";
    out "%(\$1\$2cmd_otp_set7)r%(\$1\$2enpoltime7)r%(\$1\$2pulses7).2r%(\$1\$2event7)r%(\$1\$2delay7).4r%(\$1\$2width7).4r";
    out "%(\$1\$2cmd_otp_set8)r%(\$1\$2enpoltime8)r%(\$1\$2pulses8).2r%(\$1\$2event8)r%(\$1\$2delay8).4r%(\$1\$2width8).4r";
    out "%(\$1\$2cmd_otp_set9)r%(\$1\$2enpoltime9)r%(\$1\$2pulses9).2r%(\$1\$2event9)r%(\$1\$2delay9).4r%(\$1\$2width9).4r";
    out "%(\$1\$2cmd_otp_setA)r%(\$1\$2enpoltimeA)r%(\$1\$2pulsesA).2r%(\$1\$2eventA)r%(\$1\$2delayA).4r%(\$1\$2widthA).4r";
    out "%(\$1\$2cmd_otp_setB)r%(\$1\$2enpoltimeB)r%(\$1\$2pulsesB).2r%(\$1\$2eventB)r%(\$1\$2delayB).4r%(\$1\$2widthB).4r";
    out "%(\$1\$2cmd_otp_setC)r%(\$1\$2enpoltimeC)r%(\$1\$2pulsesC).2r%(\$1\$2eventC)r%(\$1\$2delayC).4r%(\$1\$2widthC).4r";
    out "%(\$1\$2cmd_otp_setD)r%(\$1\$2enpoltimeD)r%(\$1\$2pulsesD).2r%(\$1\$2eventD)r%(\$1\$2delayD).4r%(\$1\$2widthD).4r";
    out "%(\$1\$2cmd_otp_setE)r%(\$1\$2enpoltimeE)r%(\$1\$2pulsesE).2r%(\$1\$2eventE)r%(\$1\$2delayE).4r%(\$1\$2widthE).4r";
    out "%(\$1\$2cmd_otp_setF)r%(\$1\$2enpoltimeF)r%(\$1\$2pulsesF).2r%(\$1\$2eventF)r%(\$1\$2delayF).4r%(\$1\$2widthF).4r";
    # out
    out "%(\$1\$2cmd_out_set0).1r%(\$1\$2ITL0).1r\x00\x00%(\$1\$2sel0toHW).1r\x00\x00%(\$1\$2finedly0).2r\x00\x00\x00%(\$1\$2rfdly0).1r";
    out "%(\$1\$2cmd_out_set1).1r%(\$1\$2ITL1).1r\x00\x00%(\$1\$2sel1toHW).1r\x00\x00%(\$1\$2finedly1).2r\x00\x00\x00%(\$1\$2rfdly1).1r";
    out "%(\$1\$2cmd_out_set2).1r%(\$1\$2ITL2).1r\x00\x00%(\$1\$2sel2toHW).1r\x00\x00%(\$1\$2finedly2).2r\x00\x00\x00%(\$1\$2rfdly2).1r";
    out "%(\$1\$2cmd_out_set3).1r%(\$1\$2ITL3).1r\x00\x00%(\$1\$2sel3toHW).1r\x00\x00%(\$1\$2finedly3).2r\x00\x00\x00%(\$1\$2rfdly3).1r";
    out "%(\$1\$2cmd_out_set4).1r%(\$1\$2ITL4).1r\x00\x00%(\$1\$2sel4toHW).1r\x00\x00%(\$1\$2finedly4).2r\x00\x00\x00%(\$1\$2rfdly4).1r";
    out "%(\$1\$2cmd_out_set5).1r%(\$1\$2ITL5).1r\x00\x00%(\$1\$2sel5toHW).1r\x00\x00%(\$1\$2finedly5).2r\x00\x00\x00%(\$1\$2rfdly5).1r";
    out "%(\$1\$2cmd_out_set6).1r%(\$1\$2ITL6).1r\x00\x00%(\$1\$2sel6toHW).1r\x00\x00%(\$1\$2finedly6).2r\x00\x00\x00%(\$1\$2rfdly6).1r";
    out "%(\$1\$2cmd_out_set7).1r%(\$1\$2ITL7).1r\x00\x00%(\$1\$2sel7toHW).1r\x00\x00%(\$1\$2finedly7).2r\x00\x00\x00%(\$1\$2rfdly7).1r";
    # digital inputs
    out "%(\$1\$2cmd_diginp_set0)r%(\$1\$2DI0Calc)r\x00\x00%(\$1\$2DIEvent0-SP)r\x00\x00\x00\x00\x00\x00\x00\x00";
    out "%(\$1\$2cmd_diginp_set1)r%(\$1\$2DI1Calc)r\x00\x00%(\$1\$2DIEvent1-SP)r\x00\x00\x00\x00\x00\x00\x00\x00";
    out "%(\$1\$2cmd_diginp_set2)r%(\$1\$2digept2)r\x00\x00%(\$1\$2digev2)r\x00\x00\x00\x00\x00\x00\x00\x00";
    # control settings
	evre_ctrl_set;
    # Timestamp source
	evre_tmstmp_set;

    # PERFORM UPLOAD TO KEEP READINGS CORRECT
	eve_upload;
}

evr_download{
    # initialize the module
	evr_conf_set;
    # otp
    out "%(\$1\$2cmd_otp_set0)r%(\$1\$2enpoltime0)r%(\$1\$2pulses0).2r%(\$1\$2event0)r%(\$1\$2delay0).4r%(\$1\$2width0).4r";
    out "%(\$1\$2cmd_otp_set1)r%(\$1\$2enpoltime1)r%(\$1\$2pulses1).2r%(\$1\$2event1)r%(\$1\$2delay1).4r%(\$1\$2width1).4r";
    out "%(\$1\$2cmd_otp_set2)r%(\$1\$2enpoltime2)r%(\$1\$2pulses2).2r%(\$1\$2event2)r%(\$1\$2delay2).4r%(\$1\$2width2).4r";
    out "%(\$1\$2cmd_otp_set3)r%(\$1\$2enpoltime3)r%(\$1\$2pulses3).2r%(\$1\$2event3)r%(\$1\$2delay3).4r%(\$1\$2width3).4r";
    out "%(\$1\$2cmd_otp_set4)r%(\$1\$2enpoltime4)r%(\$1\$2pulses4).2r%(\$1\$2event4)r%(\$1\$2delay4).4r%(\$1\$2width4).4r";
    out "%(\$1\$2cmd_otp_set5)r%(\$1\$2enpoltime5)r%(\$1\$2pulses5).2r%(\$1\$2event5)r%(\$1\$2delay5).4r%(\$1\$2width5).4r";
    out "%(\$1\$2cmd_otp_set6)r%(\$1\$2enpoltime6)r%(\$1\$2pulses6).2r%(\$1\$2event6)r%(\$1\$2delay6).4r%(\$1\$2width6).4r";
    out "%(\$1\$2cmd_otp_set7)r%(\$1\$2enpoltime7)r%(\$1\$2pulses7).2r%(\$1\$2event7)r%(\$1\$2delay7).4r%(\$1\$2width7).4r";
    out "%(\$1\$2cmd_otp_set8)r%(\$1\$2enpoltime8)r%(\$1\$2pulses8).2r%(\$1\$2event8)r%(\$1\$2delay8).4r%(\$1\$2width8).4r";
    out "%(\$1\$2cmd_otp_set9)r%(\$1\$2enpoltime9)r%(\$1\$2pulses9).2r%(\$1\$2event9)r%(\$1\$2delay9).4r%(\$1\$2width9).4r";
    out "%(\$1\$2cmd_otp_setA)r%(\$1\$2enpoltimeA)r%(\$1\$2pulsesA).2r%(\$1\$2eventA)r%(\$1\$2delayA).4r%(\$1\$2widthA).4r";
    out "%(\$1\$2cmd_otp_setB)r%(\$1\$2enpoltimeB)r%(\$1\$2pulsesB).2r%(\$1\$2eventB)r%(\$1\$2delayB).4r%(\$1\$2widthB).4r";
    out "%(\$1\$2cmd_otp_setC)r%(\$1\$2enpoltimeC)r%(\$1\$2pulsesC).2r%(\$1\$2eventC)r%(\$1\$2delayC).4r%(\$1\$2widthC).4r";
    out "%(\$1\$2cmd_otp_setD)r%(\$1\$2enpoltimeD)r%(\$1\$2pulsesD).2r%(\$1\$2eventD)r%(\$1\$2delayD).4r%(\$1\$2widthD).4r";
    out "%(\$1\$2cmd_otp_setE)r%(\$1\$2enpoltimeE)r%(\$1\$2pulsesE).2r%(\$1\$2eventE)r%(\$1\$2delayE).4r%(\$1\$2widthE).4r";
    out "%(\$1\$2cmd_otp_setF)r%(\$1\$2enpoltimeF)r%(\$1\$2pulsesF).2r%(\$1\$2eventF)r%(\$1\$2delayF).4r%(\$1\$2widthF).4r";
    # out
    out "%(\$1\$2cmd_out_set0).1r%(\$1\$2ITL0).1r\x00\x00%(\$1\$2sel0toHW).1r\x00\x00%(\$1\$2finedly0).2r\x00\x00\x00%(\$1\$2rfdly0).1r";
    out "%(\$1\$2cmd_out_set1).1r%(\$1\$2ITL1).1r\x00\x00%(\$1\$2sel1toHW).1r\x00\x00%(\$1\$2finedly1).2r\x00\x00\x00%(\$1\$2rfdly1).1r";
    out "%(\$1\$2cmd_out_set2).1r%(\$1\$2ITL2).1r\x00\x00%(\$1\$2sel2toHW).1r\x00\x00%(\$1\$2finedly2).2r\x00\x00\x00%(\$1\$2rfdly2).1r";
    out "%(\$1\$2cmd_out_set3).1r%(\$1\$2ITL3).1r\x00\x00%(\$1\$2sel3toHW).1r\x00\x00%(\$1\$2finedly3).2r\x00\x00\x00%(\$1\$2rfdly3).1r";
    out "%(\$1\$2cmd_out_set4).1r%(\$1\$2ITL4).1r\x00\x00%(\$1\$2sel4toHW).1r\x00\x00%(\$1\$2finedly4).2r\x00\x00\x00%(\$1\$2rfdly4).1r";
    out "%(\$1\$2cmd_out_set5).1r%(\$1\$2ITL5).1r\x00\x00%(\$1\$2sel5toHW).1r\x00\x00%(\$1\$2finedly5).2r\x00\x00\x00%(\$1\$2rfdly5).1r";
    out "%(\$1\$2cmd_out_set6).1r%(\$1\$2ITL6).1r\x00\x00%(\$1\$2sel6toHW).1r\x00\x00%(\$1\$2finedly6).2r\x00\x00\x00%(\$1\$2rfdly6).1r";
    out "%(\$1\$2cmd_out_set7).1r%(\$1\$2ITL7).1r\x00\x00%(\$1\$2sel7toHW).1r\x00\x00%(\$1\$2finedly7).2r\x00\x00\x00%(\$1\$2rfdly7).1r";
    # digital inputs
    out "%(\$1\$2cmd_diginp_set0)r%(\$1\$2DI0Calc)r\x00\x00%(\$1\$2DIEvent0-SP)r\x00\x00\x00\x00\x00\x00\x00\x00";
    out "%(\$1\$2cmd_diginp_set1)r%(\$1\$2DI1Calc)r\x00\x00%(\$1\$2DIEvent1-SP)r\x00\x00\x00\x00\x00\x00\x00\x00";
    out "%(\$1\$2cmd_diginp_set2)r%(\$1\$2digept2)r\x00\x00%(\$1\$2digev2)r\x00\x00\x00\x00\x00\x00\x00\x00";
    # control settings
	evre_ctrl_set;
    # Timestamp source
	evre_tmstmp_set;

    # PERFORM UPLOAD TO KEEP READINGS CORRECT
	evr_upload;
}

evg_download{
    # initialize the module
	evg_conf_set;
    # mux
    out "%(\$1\$2cmd_mux_set0).1r\x00\x00\x00%(\$1\$2Clk0MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk0MuxDiv-SP.RVAL).4r";
    out "%(\$1\$2cmd_mux_set1).1r\x00\x00\x00%(\$1\$2Clk1MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk1MuxDiv-SP.RVAL).4r";
    out "%(\$1\$2cmd_mux_set2).1r\x00\x00\x00%(\$1\$2Clk2MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk2MuxDiv-SP.RVAL).4r";
    out "%(\$1\$2cmd_mux_set3).1r\x00\x00\x00%(\$1\$2Clk3MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk3MuxDiv-SP.RVAL).4r";
    out "%(\$1\$2cmd_mux_set4).1r\x00\x00\x00%(\$1\$2Clk4MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk4MuxDiv-SP.RVAL).4r";
    out "%(\$1\$2cmd_mux_set5).1r\x00\x00\x00%(\$1\$2Clk5MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk5MuxDiv-SP.RVAL).4r";
    out "%(\$1\$2cmd_mux_set6).1r\x00\x00\x00%(\$1\$2Clk6MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk6MuxDiv-SP.RVAL).4r";
    out "%(\$1\$2cmd_mux_set7).1r\x00\x00\x00%(\$1\$2Clk7MuxEnbl-Sel).1r\x00\x00\x00\x00%(\$1\$2Clk7MuxDiv-SP.RVAL).4r";

    # digital inputs
    out "%(\$1\$2cmd_diginp_set0)r%(\$1\$2DI0Calc)r\x00\x00%(\$1\$2DIEvent0-SP)r\x00\x00\x00\x00\x00\x00\x00\x00";
    out "%(\$1\$2cmd_diginp_set1)r%(\$1\$2DI1Calc)r\x00\x00%(\$1\$2DIEvent1-SP)r\x00\x00\x00\x00\x00\x00\x00\x00";

	# interlock map
    out "%(\$1\$2cmd_evg_ilockmap_set)r%(\$1\$2IntlkTbl16to27-Sel).2r%(\$1\$2IntlkTbl0to15-Sel).2r%(\$1\$2IntlkEvtOut-SP)r%(\$1\$2IntlkEvtIn6-SP)r%(\$1\$2IntlkEvtIn5-SP)r%(\$1\$2IntlkEvtIn4-SP)r%(\$1\$2IntlkEvtIn3-SP)r%(\$1\$2IntlkEvtIn2-SP)r%(\$1\$2IntlkEvtIn1-SP)r%(\$1\$2IntlkEvtIn0-SP)r";

	# interlock control
	out "%(\$1\$2cmd_evg_ilockcontrol_set)r%(\$1\$2IntlkCtrlCalc)r\x00\x00\x00%(\$1\$2IntlkCtrlRepeatTime-SP).4r\x00\x00\x00\x00";
	
    # ac line settings
	evg_acline_set;
    # control settings
	evg_ctrl_set;
    # Timestamp souce
	evg_tmstmp_timesrc_set;

    # PERFORM UPLOAD TO KEEP READINGS CORRECT
	evg_upload;
}

fout_download{
    # initialize the module
	fout_conf_set;
    # control settings
	fout_ctrl_set;

    # DO NOT NEED TO UPLOAD AFTER DOWNLOAD: NO READBACK PV
}

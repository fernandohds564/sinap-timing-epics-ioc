Terminator = "";
MaxInput = 13;
ExtraInput = Ignore;
################################################################################
# Control and Status Register FOUT [0]

fout_ctrl_get{
	out "%(\$1-\$2:\$3-\$4\$5:cmd_ctrl_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
	in "\xc0%*04r%*04r%*04r";
}

fout_ctrl_set{
	out "%(\$1-\$2:\$3-\$4\$5:cmd_ctrl_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:fouten)r";
	fout_ctrl_get;
}

# Interrupts

fout_ctrl_en_intr{
	in "\xc0%*04r%*04r%*03r%r";
}

fout_ctrl_link_intr{
	in "\xc0%*04r%*04r%*02r%r%*r";
}

fout_ctrl_los_intr{
	in "\xc0%*04r%*04r%r%*03r";
}

################################################################################
# Control and Status Register EVE & EVR [0]
evre_ctrl_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_ctrl_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xc0%*04r%*04r%*02r%*r%*r";
}

evre_ctrl_set {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_ctrl_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:enable)b";
    evre_ctrl_get;
}

# Interrupts

evre_ctrl_enableRAW_intr{
    in "\xc0%*04r%*04r%*02r%*r%r";
}

evre_ctrl_linkinhs_intr{
    in "\xc0%*04r%*04r%*02r%r%*r";
}

################################################################################
# Control and Status Register EVG [0]
evg_ctrl_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_ctrl_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xc0%*04r%*04r%*04r"; # waiting for an answer to trigger interrupts before run next command 
}

evg_ctrl_seq_en_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_ctrl_set).1r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:\$6).1r";
    evg_ctrl_get;
}

evg_ctrl_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_ctrl_set).1r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:SEQEN_ENABLE).1r";
    evg_ctrl_get;
}

# Interrupts

evg_ctrl_seqstat_rfstat_intr{
    in "\xc0%*04r%*04r%*02r%r%*r";
}

evg_ctrl_seqen_enable_intr{
    in "\xc0%*04r%*04r%*02r%*r%r";
}

################################################################################
# OTP Registers [1 - 16]
evre_otp_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get\$6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses\$6RBV)02r%(\$1-\$2:\$3-\$4\$5:event\$6RBV)0r%(\$1-\$2:\$3-\$4\$5:delay\$6RBV)04r%(\$1-\$2:\$3-\$4\$5:width\$6RBV)04r";
}

evre_otp_ev_set {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set\$6)r%(\$1-\$2:\$3-\$4\$5:enpoltime\$6RBV.RVAL)r%(\$1-\$2:\$3-\$4\$5:pulses\$6RBV).2r%(\$1-\$2:\$3-\$4\$5:event\$6)r%(\$1-\$2:\$3-\$4\$5:delay\$6RBV).4r%(\$1-\$2:\$3-\$4\$5:width\$6RBV).4r";
    evre_otp_get;
}

evre_otp_pulses_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set\$6)r%(\$1-\$2:\$3-\$4\$5:enpoltime\$6RBV.RVAL)r%(\$1-\$2:\$3-\$4\$5:pulses\$6).2r%(\$1-\$2:\$3-\$4\$5:event\$6RBV)r%(\$1-\$2:\$3-\$4\$5:delay\$6RBV).4r%(\$1-\$2:\$3-\$4\$5:width\$6RBV).4r";
    evre_otp_get;
}

evre_otp_width_set {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set\$6)r%(\$1-\$2:\$3-\$4\$5:enpoltime\$6RBV.RVAL)r%(\$1-\$2:\$3-\$4\$5:pulses\$6RBV).2r%(\$1-\$2:\$3-\$4\$5:event\$6RBV)r%(\$1-\$2:\$3-\$4\$5:delay\$6RBV).4r%(\$1-\$2:\$3-\$4\$5:width\$6).4r";
    evre_otp_get;
}

evre_otp_dly_set {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set\$6)r%(\$1-\$2:\$3-\$4\$5:enpoltime\$6RBV.RVAL)r%(\$1-\$2:\$3-\$4\$5:pulses\$6RBV).2r%(\$1-\$2:\$3-\$4\$5:event\$6RBV)r%(\$1-\$2:\$3-\$4\$5:delay\$6).4r%(\$1-\$2:\$3-\$4\$5:width\$6RBV).4r";
    evre_otp_get;
}

evre_otp_en_pol_time_set {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set\$6)r%(\$1-\$2:\$3-\$4\$5:\$7\$6)r%(\$1-\$2:\$3-\$4\$5:pulses\$6RBV).2r%(\$1-\$2:\$3-\$4\$5:event\$6RBV)r%(\$1-\$2:\$3-\$4\$5:delay\$6RBV).4r%(\$1-\$2:\$3-\$4\$5:width\$6RBV).4r";
    evre_otp_get;
}

evre_otp_set {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set\$6)r%(\$1-\$2:\$3-\$4\$5:enpoltime\$6)r%(\$1-\$2:\$3-\$4\$5:pulses\$6).2r%(\$1-\$2:\$3-\$4\$5:event\$6)r%(\$1-\$2:\$3-\$4\$5:delay\$6).4r%(\$1-\$2:\$3-\$4\$5:width\$6).4r";
    evre_otp_get;
}

# Interrupts

evre_otp_enpoltime0RBV_intr{
    in "\xC1%r%*03r%*04r%*04r";
}
evre_otp_enpoltime1RBV_intr{
    in "\xC2%r%*03r%*04r%*04r";
}
evre_otp_enpoltime2RBV_intr{
    in "\xC3%r%*03r%*04r%*04r";
}
evre_otp_enpoltime3RBV_intr{
    in "\xC4%r%*03r%*04r%*04r";
}
evre_otp_enpoltime4RBV_intr{
    in "\xC5%r%*03r%*04r%*04r";
}
evre_otp_enpoltime5RBV_intr{
    in "\xC6%r%*03r%*04r%*04r";
}
evre_otp_enpoltime6RBV_intr{
    in "\xC7%r%*03r%*04r%*04r";
}
evre_otp_enpoltime7RBV_intr{
    in "\xC8%r%*03r%*04r%*04r";
}
evre_otp_enpoltime8RBV_intr{
    in "\xC9%r%*03r%*04r%*04r";
}
evre_otp_enpoltime9RBV_intr{
    in "\xCA%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeARBV_intr{
    in "\xCB%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeBRBV_intr{
    in "\xCC%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeCRBV_intr{
    in "\xCD%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeDRBV_intr{
    in "\xCE%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeERBV_intr{
    in "\xCF%r%*03r%*04r%*04r";
}
evre_otp_enpoltimeFRBV_intr{
    in "\xD0%r%*03r%*04r%*04r";
}

################################################################################
# OUT Registers [17 - 24]
evre_out_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get\$6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly\$6RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly\$6RBV)r";
}

evre_out_rfdly_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set\$6).1r%(\$1-\$2:\$3-\$4\$5:itl\$6RAW.RVAL).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel\$6RAW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly\$6RBV).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly\$6).1r";
    evre_out_get;
}

evre_out_finedly_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set\$6).1r%(\$1-\$2:\$3-\$4\$5:itl\$6RAW.RVAL).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel\$6RAW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly\$6).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly\$6RBV).1r";
    evre_out_get;
}

evre_out_sel_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set\$6).1r%(\$1-\$2:\$3-\$4\$5:itl\$6RAW.RVAL).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel\$6toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly\$6RBV).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly\$6RBV).1r";
    evre_out_get;
}

evre_out_itl_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set\$6).1r%(\$1-\$2:\$3-\$4\$5:ITL\$6).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel\$6RAW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly\$6RBV).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly\$6RBV).1r";
    evre_out_get;
}

evre_out_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set\$6).1r%(\$1-\$2:\$3-\$4\$5:ITL\$6).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel\$6toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly\$6).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly\$6).1r";
    evre_out_get;
}

# Interrupts

evre_out_itl0RAW_intr{
    in "\xD1%r%*03r%*04r%*04r";
}
evre_out_itl1RAW_intr{
    in "\xD2%r%*03r%*04r%*04r";
}
evre_out_itl2RAW_intr{
    in "\xD3%r%*03r%*04r%*04r";
}
evre_out_itl3RAW_intr{
    in "\xD4%r%*03r%*04r%*04r";
}
evre_out_itl4RAW_intr{
    in "\xD5%r%*03r%*04r%*04r";
}
evre_out_itl5RAW_intr{
    in "\xD6%r%*03r%*04r%*04r";
}
evre_out_itl6RAW_intr{
    in "\xD7%r%*03r%*04r%*04r";
}
evre_out_itl7RAW_intr{
    in "\xD8%r%*03r%*04r%*04r";
}

evre_out_sel0RAW_intr{
    in "\xD1%*03r%r%*04r%*04r";
}
evre_out_sel1RAW_intr{
    in "\xD2%*03r%r%*04r%*04r";
}
evre_out_sel2RAW_intr{
    in "\xD3%*03r%r%*04r%*04r";
}
evre_out_sel3RAW_intr{
    in "\xD4%*03r%r%*04r%*04r";
}
evre_out_sel4RAW_intr{
    in "\xD5%*03r%r%*04r%*04r";
}
evre_out_sel5RAW_intr{
    in "\xD6%*03r%r%*04r%*04r";
}
evre_out_sel6RAW_intr{
    in "\xD7%*03r%r%*04r%*04r";
}
evre_out_sel7RAW_intr{
    in "\xD8%*03r%r%*04r%*04r";
}

################################################################################
# Clock mode select EVE [25]
eve_rf_get {
    out "\x99\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xd9%*04r%*04r%*04r";
}

eve_rf_set {
    out "\x59\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:cmsel)r";
    eve_rf_get;
}

# Interrupts

eve_rf_intr {
    in "\xd9%*04r%*04r%*03r%r";
}

################################################################################
# AC Line register [40]
evg_acline_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_acline_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xE8%*03r%(\$1-\$2:\$3-\$4\$5:acenRBV)r%*04r%*04r";
}

evg_acline_acen_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_acline_set).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:acen).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:acdivRAW).4r";
    evg_acline_get;
}

evg_acline_acdiv_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_acline_set).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:acenRBV).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:acdiv.RVAL).4r";
    evg_acline_get;
}

evg_acline_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_acline_set).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:acen).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:acdiv.RVAL).4r";
    evg_acline_get;
}

# Interrupts

evg_acline_acdivraw_intr{
    in "\xE8%*03r%*r%*04r%04r";
}

################################################################################
# Mux register [41 - 48]
evg_mux_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_get\$6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1-\$2:\$3-\$4\$5:muxen\$6RBV)r%*04r%*04r";
}

evg_mux_en_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set\$6).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen\$6).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv\$6RAW).4r";
    evg_mux_get;
}

evg_mux_div_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set\$6).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen\$6RBV).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv\$6.RVAL).4r";
    evg_mux_get;
}

evg_mux_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set\$6).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen\$6).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv\$6.RVAL).4r";
    evg_mux_get;
}

# Mux interrupts

evg_mux_div0RAW_intr{
    in "\xE9%*03r%*r%*04r%04r";
}
evg_mux_div1RAW_intr{
    in "\xEA%*03r%*r%*04r%04r";
}
evg_mux_div2RAW_intr{
    in "\xEB%*03r%*r%*04r%04r";
}
evg_mux_div3RAW_intr{
    in "\xEC%*03r%*r%*04r%04r";
}
evg_mux_div4RAW_intr{
    in "\xED%*03r%*r%*04r%04r";
}
evg_mux_div5RAW_intr{
    in "\xEE%*03r%*r%*04r%04r";
}
evg_mux_div6RAW_intr{
    in "\xEF%*03r%*r%*04r%04r";
}
evg_mux_div7RAW_intr{
    in "\xF0%*03r%*r%*04r%04r";
}

################################################################################
# SEQRAM setting register [49]
evg_seqramset_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_seqramset_set).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:seqaddr).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:seqcode).1r%(\$1-\$2:\$3-\$4\$5:seqtime).4r";
}

################################################################################
# SEQRAM switch register [50]
evg_seqramsw_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_seqramsw_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xF2%*04r%*04r%*02r%(\$1-\$2:\$3-\$4\$5:seqcountRBV.RVAL)02r";
}

evg_seqramsw_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_seqramsw_set).1r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    evg_seqramsw_get;
}

################################################################################
# Timestamp register EVG [51]
evg_tmstmp_get{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_tmstmp_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xF3%(\$1-\$2:\$3-\$4\$5:UTCRBV)04r%(\$1-\$2:\$3-\$4\$5:subsecondRBV)04r%*04r";
}

evg_tmstmp_utc_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_tmstmp_set)r%(\$1-\$2:\$3-\$4\$5:UTC).4r\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:TIMESRCRBV.RVAL)r";
    evg_tmstmp_get;
}

# utc receives 0 causing it to be broadcast
evg_tmstmp_timesrc_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_tmstmp_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:TIMESRC.RVAL)r";
    evg_tmstmp_get;
}

evg_tmstmp_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_tmstmp_set)r%(\$1-\$2:\$3-\$4\$5:UTC).4r\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:TIMESRC.RVAL)r";
    evg_tmstmp_get;
}

# Interrupts

evg_tmstmp_timesrcRBV_intr{
    in "\xF3%*04r%*04r%*03r%r";
}


################################################################################
# Timestamp register EVE & EVR [51]
evre_tmstmp_get{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_tmstmp_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xF3%(\$1-\$2:\$3-\$4\$5:UTCRBV)04r%(\$1-\$2:\$3-\$4\$5:subsecondRBV)04r%*04r";
}

evre_tmstmp_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_tmstmp_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:TIMESRC)r";
    evre_tmstmp_get;
}

# Interrupts

evre_tmstmp_timesrcRBV_intr{
    in "\xF3%*04r%*04r%*03r%r";
}

################################################################################
# Timestamp log register EVE & EVR [52]

evre_log_get{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_log_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xF4%(\$1-\$2:\$3-\$4\$5:LOGUTC)04r%(\$1-\$2:\$3-\$4\$5:LOGSUBSEC)04r%(\$1-\$2:\$3-\$4\$5:LOGEVENT)r%(\$1-\$2:\$3-\$4\$5:LOGCOUNT)02r%*r";
    @init{
	out "%(\$1-\$2:\$3-\$4\$5:cmd_log_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    	in "\xF4%*04r%*04r%*03r%(\$1-\$2:\$3-\$4\$5:stoplogAUX)r";
    }
}

evre_log_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_log_set)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:\$6)r";
    # reading of register is made by record "onlyRead" or "readAndUpdate" to assure synchronization
}

# Interrupts

evre_log_ctrlRBV_intr{
    in "\xF4%*04r%*04r%*03r%r";
}

################################################################################
# Firmware version register EVG, EVR & EVE [62]

frmvrs_get{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_frmvrs_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xFE%s";
    @init{
	out "%(\$1-\$2:\$3-\$4\$5:cmd_frmvrs_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    	in "\xFE%s";
    }
}

################################################################################
# Configutarion Register EVG [63]

evg_conf_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xFF%*04r%*04r%*04r";
}

evg_conf_funsel_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_set).1r\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdivRAW).1r\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:funsel.RVAL).1r";
    evg_conf_get;
}

evg_conf_rfdiv_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_set).1r\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdiv.RVAL).1r\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:funselRBV.RVAL).1r";
    evg_conf_get;
}

evg_conf_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_set).1r\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdiv.RVAL).1r\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:funsel.RVAL).1r";
    evg_conf_get;
}

# Interrupts

evg_conf_alive_intr{
    in "\xFF%04r%*04r%*04r";
}

evg_conf_rfdivRAW_intr{
    in "\xFF%*04r%*r%r%*02r%*04r";
}

evg_conf_funsel_intr{
    in "\xFF%*04r%*04r%*03r%r";
}

################################################################################
# Configutarion register EVR/EVE [63]

evr_conf_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xFF%*04r%*04r%*04r";
}

evr_conf_funsel_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:clkmodeRBV.RVAL).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:funsel.RVAL).1r";
    evr_conf_get;
}

evr_conf_clk_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:clkmode.RVAL).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:funselRBV.RVAL).1r";
    evr_conf_get;
}

evr_conf_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:clkmode.RVAL).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:funsel.RVAL).1r";
    evr_conf_get;
}


eve_conf_get {
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "\xFF%*04r%*04r%*04r";
}

eve_conf_set{
    out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:clkmode.RVAL).1r\x00\x00\x00\x20";
    eve_conf_get;
}

# Interrupts


evre_conf_alive_intr{
    in "\xFF%04r%*04r%*04r";
}

evre_conf_funsel_intr{
    in "\xFF%*04r%*04r%*03r%r";
}

evre_conf_clkmode_intr{
    in "\xFF%*04r%*03r%r%*04r";
}

################################################################################
# Configutarion register FOUT [63]

fout_conf_get{
	out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_get)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
	in "\xFF%*04r%*04r%*04r";
}

fout_conf_set{
	out "%(\$1-\$2:\$3-\$4\$5:cmd_conf_set).1r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:funsel.RVAL).1r";
    fout_conf_get;
}

# Interrupts

fout_conf_alive_intr{
	in "\xFF%04r%*04r%*04r";
}

fout_conf_funsel_intr{
	in "\xFF%*04r%*04r%*03r%r";
}

########################################################################
# Upload commands (From Hardware to IOC)

eve_upload{
    # OTPs upload 
    # otp0    
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses0RBV)02r%(\$1-\$2:\$3-\$4\$5:event0RBV)r%(\$1-\$2:\$3-\$4\$5:delay0RBV)04r%(\$1-\$2:\$3-\$4\$5:width0RBV)04r";
    # otp1
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses1RBV)02r%(\$1-\$2:\$3-\$4\$5:event1RBV)r%(\$1-\$2:\$3-\$4\$5:delay1RBV)04r%(\$1-\$2:\$3-\$4\$5:width1RBV)04r";
    # otp2
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses2RBV)02r%(\$1-\$2:\$3-\$4\$5:event2RBV)r%(\$1-\$2:\$3-\$4\$5:delay2RBV)04r%(\$1-\$2:\$3-\$4\$5:width2RBV)04r";
    # otp3
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses3RBV)02r%(\$1-\$2:\$3-\$4\$5:event3RBV)r%(\$1-\$2:\$3-\$4\$5:delay3RBV)04r%(\$1-\$2:\$3-\$4\$5:width3RBV)04r";
    # otp4
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses4RBV)02r%(\$1-\$2:\$3-\$4\$5:event4RBV)r%(\$1-\$2:\$3-\$4\$5:delay4RBV)04r%(\$1-\$2:\$3-\$4\$5:width4RBV)04r";
    # otp5
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses5RBV)02r%(\$1-\$2:\$3-\$4\$5:event5RBV)r%(\$1-\$2:\$3-\$4\$5:delay5RBV)04r%(\$1-\$2:\$3-\$4\$5:width5RBV)04r";
    # otp6
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses6RBV)02r%(\$1-\$2:\$3-\$4\$5:event6RBV)r%(\$1-\$2:\$3-\$4\$5:delay6RBV)04r%(\$1-\$2:\$3-\$4\$5:width6RBV)04r";
    # otp7
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses7RBV)02r%(\$1-\$2:\$3-\$4\$5:event7RBV)r%(\$1-\$2:\$3-\$4\$5:delay7RBV)04r%(\$1-\$2:\$3-\$4\$5:width7RBV)04r";
    # otp8
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get8)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses8RBV)02r%(\$1-\$2:\$3-\$4\$5:event8RBV)r%(\$1-\$2:\$3-\$4\$5:delay8RBV)04r%(\$1-\$2:\$3-\$4\$5:width8RBV)04r";
    # otp9
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get9)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses9RBV)02r%(\$1-\$2:\$3-\$4\$5:event9RBV)r%(\$1-\$2:\$3-\$4\$5:delay9RBV)04r%(\$1-\$2:\$3-\$4\$5:width9RBV)04r";
    # otpa
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getA)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesARBV)02r%(\$1-\$2:\$3-\$4\$5:eventARBV)r%(\$1-\$2:\$3-\$4\$5:delayARBV)04r%(\$1-\$2:\$3-\$4\$5:widthARBV)04r";
    # otpb
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getB)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesBRBV)02r%(\$1-\$2:\$3-\$4\$5:eventBRBV)r%(\$1-\$2:\$3-\$4\$5:delayBRBV)04r%(\$1-\$2:\$3-\$4\$5:widthBRBV)04r";
    # otpc
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getC)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesCRBV)02r%(\$1-\$2:\$3-\$4\$5:eventCRBV)r%(\$1-\$2:\$3-\$4\$5:delayCRBV)04r%(\$1-\$2:\$3-\$4\$5:widthCRBV)04r";
    # otpd
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getD)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesDRBV)02r%(\$1-\$2:\$3-\$4\$5:eventDRBV)r%(\$1-\$2:\$3-\$4\$5:delayDRBV)04r%(\$1-\$2:\$3-\$4\$5:widthDRBV)04r";
    # otpe
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getE)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesERBV)02r%(\$1-\$2:\$3-\$4\$5:eventERBV)r%(\$1-\$2:\$3-\$4\$5:delayERBV)04r%(\$1-\$2:\$3-\$4\$5:widthERBV)04r";
    # otpf
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getF)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesFRBV)02r%(\$1-\$2:\$3-\$4\$5:eventFRBV)r%(\$1-\$2:\$3-\$4\$5:delayFRBV)04r%(\$1-\$2:\$3-\$4\$5:widthFRBV)04r";
    
    # OUTs upload
    # out0
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly0RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly0RBV)r";
    # out1
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly1RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly1RBV)r";
    # out2
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly2RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly2RBV)r";
    # out3
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly3RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly3RBV)r";
    # out4
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly4RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly4RBV)r";
    # out5
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly5RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly5RBV)r";
    # out6
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly6RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly6RBV)r";
    # out7
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly7RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly7RBV)r";
    # RF output upload
	eve_rf_get;
    # Timestamp log
    	evre_log_get;
    # Timestamp
	evre_tmstmp_get;
}

evr_upload{
    # OTPs upload 
    # otp0
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses0RBV)02r%(\$1-\$2:\$3-\$4\$5:event0RBV)r%(\$1-\$2:\$3-\$4\$5:delay0RBV)04r%(\$1-\$2:\$3-\$4\$5:width0RBV)04r";
    # otp1
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses1RBV)02r%(\$1-\$2:\$3-\$4\$5:event1RBV)r%(\$1-\$2:\$3-\$4\$5:delay1RBV)04r%(\$1-\$2:\$3-\$4\$5:width1RBV)04r";
    # otp2
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses2RBV)02r%(\$1-\$2:\$3-\$4\$5:event2RBV)r%(\$1-\$2:\$3-\$4\$5:delay2RBV)04r%(\$1-\$2:\$3-\$4\$5:width2RBV)04r";
    # otp3
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses3RBV)02r%(\$1-\$2:\$3-\$4\$5:event3RBV)r%(\$1-\$2:\$3-\$4\$5:delay3RBV)04r%(\$1-\$2:\$3-\$4\$5:width3RBV)04r";
    # otp4
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses4RBV)02r%(\$1-\$2:\$3-\$4\$5:event4RBV)r%(\$1-\$2:\$3-\$4\$5:delay4RBV)04r%(\$1-\$2:\$3-\$4\$5:width4RBV)04r";
    # otp5
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses5RBV)02r%(\$1-\$2:\$3-\$4\$5:event5RBV)r%(\$1-\$2:\$3-\$4\$5:delay5RBV)04r%(\$1-\$2:\$3-\$4\$5:width5RBV)04r";
    # otp6
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses6RBV)02r%(\$1-\$2:\$3-\$4\$5:event6RBV)r%(\$1-\$2:\$3-\$4\$5:delay6RBV)04r%(\$1-\$2:\$3-\$4\$5:width6RBV)04r";
    # otp7
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses7RBV)02r%(\$1-\$2:\$3-\$4\$5:event7RBV)r%(\$1-\$2:\$3-\$4\$5:delay7RBV)04r%(\$1-\$2:\$3-\$4\$5:width7RBV)04r";
    # otp8
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get8)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses8RBV)02r%(\$1-\$2:\$3-\$4\$5:event8RBV)r%(\$1-\$2:\$3-\$4\$5:delay8RBV)04r%(\$1-\$2:\$3-\$4\$5:width8RBV)04r";
    # otp9
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_get9)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulses9RBV)02r%(\$1-\$2:\$3-\$4\$5:event9RBV)r%(\$1-\$2:\$3-\$4\$5:delay9RBV)04r%(\$1-\$2:\$3-\$4\$5:width9RBV)04r";
    # otpa
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getA)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesARBV)02r%(\$1-\$2:\$3-\$4\$5:eventARBV)r%(\$1-\$2:\$3-\$4\$5:delayARBV)04r%(\$1-\$2:\$3-\$4\$5:widthARBV)04r";
    # otpb
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getB)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesBRBV)02r%(\$1-\$2:\$3-\$4\$5:eventBRBV)r%(\$1-\$2:\$3-\$4\$5:delayBRBV)04r%(\$1-\$2:\$3-\$4\$5:widthBRBV)04r";
    # otpc
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getC)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesCRBV)02r%(\$1-\$2:\$3-\$4\$5:eventCRBV)r%(\$1-\$2:\$3-\$4\$5:delayCRBV)04r%(\$1-\$2:\$3-\$4\$5:widthCRBV)04r";
    # otpd
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getD)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesDRBV)02r%(\$1-\$2:\$3-\$4\$5:eventDRBV)r%(\$1-\$2:\$3-\$4\$5:delayDRBV)04r%(\$1-\$2:\$3-\$4\$5:widthDRBV)04r";
    # otpe
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getE)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesERBV)02r%(\$1-\$2:\$3-\$4\$5:eventERBV)r%(\$1-\$2:\$3-\$4\$5:delayERBV)04r%(\$1-\$2:\$3-\$4\$5:widthERBV)04r";
    # otpf
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_getF)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%(\$1-\$2:\$3-\$4\$5:pulsesFRBV)02r%(\$1-\$2:\$3-\$4\$5:eventFRBV)r%(\$1-\$2:\$3-\$4\$5:delayFRBV)04r%(\$1-\$2:\$3-\$4\$5:widthFRBV)04r";

    # OUTs upload
    # out0
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly0RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly0RBV)r";
    # out1
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly1RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly1RBV)r";
    # out2
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly2RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly2RBV)r";
    # out3
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly3RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly3RBV)r";
    # out4
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly4RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly4RBV)r";
    # out5
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly5RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly5RBV)r";
    # out6
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly6RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly6RBV)r";
    # out7
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*r%*02r%*r%*02r%(\$1-\$2:\$3-\$4\$5:finedly7RBV)02r%*03r%(\$1-\$2:\$3-\$4\$5:rfdly7RBV)r";
    # Timestamp log
	evre_log_get;
    # Timestamp
	evre_tmstmp_get;
}

evg_upload{
    # MUXs upload
    # mux0
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_get0)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1-\$2:\$3-\$4\$5:muxen0RBV)r%*04r%*04r";
    # mux1
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_get1)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1-\$2:\$3-\$4\$5:muxen1RBV)r%*04r%*04r";
    # mux2
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_get2)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1-\$2:\$3-\$4\$5:muxen2RBV)r%*04r%*04r";
    # mux3
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_get3)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1-\$2:\$3-\$4\$5:muxen3RBV)r%*04r%*04r";
    # mux4
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_get4)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1-\$2:\$3-\$4\$5:muxen4RBV)r%*04r%*04r";
    # mux5
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_get5)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1-\$2:\$3-\$4\$5:muxen5RBV)r%*04r%*04r";
    # mux6
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_get6)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1-\$2:\$3-\$4\$5:muxen6RBV)r%*04r%*04r";
    # mux7
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_get7)r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
    in "%*r%*03r%(\$1-\$2:\$3-\$4\$5:muxen7RBV)r%*04r%*04r";
    # AC Line
	evg_acline_get;
    # SequenceRAM counter
	evg_seqramsw_get;
    # Timestamp
	evg_tmstmp_get;
}

########################################################################
# Download commands (From IOC to Hardware)

eve_download{
    # initialize the module
	eve_conf_set;
    # RF output settings
	eve_rf_set;
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set0)r%(\$1-\$2:\$3-\$4\$5:enpoltime0)r%(\$1-\$2:\$3-\$4\$5:pulses0).2r%(\$1-\$2:\$3-\$4\$5:event0)r%(\$1-\$2:\$3-\$4\$5:delay0).4r%(\$1-\$2:\$3-\$4\$5:width0).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set1)r%(\$1-\$2:\$3-\$4\$5:enpoltime1)r%(\$1-\$2:\$3-\$4\$5:pulses1).2r%(\$1-\$2:\$3-\$4\$5:event1)r%(\$1-\$2:\$3-\$4\$5:delay1).4r%(\$1-\$2:\$3-\$4\$5:width1).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set2)r%(\$1-\$2:\$3-\$4\$5:enpoltime2)r%(\$1-\$2:\$3-\$4\$5:pulses2).2r%(\$1-\$2:\$3-\$4\$5:event2)r%(\$1-\$2:\$3-\$4\$5:delay2).4r%(\$1-\$2:\$3-\$4\$5:width2).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set3)r%(\$1-\$2:\$3-\$4\$5:enpoltime3)r%(\$1-\$2:\$3-\$4\$5:pulses3).2r%(\$1-\$2:\$3-\$4\$5:event3)r%(\$1-\$2:\$3-\$4\$5:delay3).4r%(\$1-\$2:\$3-\$4\$5:width3).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set4)r%(\$1-\$2:\$3-\$4\$5:enpoltime4)r%(\$1-\$2:\$3-\$4\$5:pulses4).2r%(\$1-\$2:\$3-\$4\$5:event4)r%(\$1-\$2:\$3-\$4\$5:delay4).4r%(\$1-\$2:\$3-\$4\$5:width4).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set5)r%(\$1-\$2:\$3-\$4\$5:enpoltime5)r%(\$1-\$2:\$3-\$4\$5:pulses5).2r%(\$1-\$2:\$3-\$4\$5:event5)r%(\$1-\$2:\$3-\$4\$5:delay5).4r%(\$1-\$2:\$3-\$4\$5:width5).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set6)r%(\$1-\$2:\$3-\$4\$5:enpoltime6)r%(\$1-\$2:\$3-\$4\$5:pulses6).2r%(\$1-\$2:\$3-\$4\$5:event6)r%(\$1-\$2:\$3-\$4\$5:delay6).4r%(\$1-\$2:\$3-\$4\$5:width6).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set7)r%(\$1-\$2:\$3-\$4\$5:enpoltime7)r%(\$1-\$2:\$3-\$4\$5:pulses7).2r%(\$1-\$2:\$3-\$4\$5:event7)r%(\$1-\$2:\$3-\$4\$5:delay7).4r%(\$1-\$2:\$3-\$4\$5:width7).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set8)r%(\$1-\$2:\$3-\$4\$5:enpoltime8)r%(\$1-\$2:\$3-\$4\$5:pulses8).2r%(\$1-\$2:\$3-\$4\$5:event8)r%(\$1-\$2:\$3-\$4\$5:delay8).4r%(\$1-\$2:\$3-\$4\$5:width8).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set9)r%(\$1-\$2:\$3-\$4\$5:enpoltime9)r%(\$1-\$2:\$3-\$4\$5:pulses9).2r%(\$1-\$2:\$3-\$4\$5:event9)r%(\$1-\$2:\$3-\$4\$5:delay9).4r%(\$1-\$2:\$3-\$4\$5:width9).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setA)r%(\$1-\$2:\$3-\$4\$5:enpoltimeA)r%(\$1-\$2:\$3-\$4\$5:pulsesA).2r%(\$1-\$2:\$3-\$4\$5:eventA)r%(\$1-\$2:\$3-\$4\$5:delayA).4r%(\$1-\$2:\$3-\$4\$5:widthA).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setB)r%(\$1-\$2:\$3-\$4\$5:enpoltimeB)r%(\$1-\$2:\$3-\$4\$5:pulsesB).2r%(\$1-\$2:\$3-\$4\$5:eventB)r%(\$1-\$2:\$3-\$4\$5:delayB).4r%(\$1-\$2:\$3-\$4\$5:widthB).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setC)r%(\$1-\$2:\$3-\$4\$5:enpoltimeC)r%(\$1-\$2:\$3-\$4\$5:pulsesC).2r%(\$1-\$2:\$3-\$4\$5:eventC)r%(\$1-\$2:\$3-\$4\$5:delayC).4r%(\$1-\$2:\$3-\$4\$5:widthC).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setD)r%(\$1-\$2:\$3-\$4\$5:enpoltimeD)r%(\$1-\$2:\$3-\$4\$5:pulsesD).2r%(\$1-\$2:\$3-\$4\$5:eventD)r%(\$1-\$2:\$3-\$4\$5:delayD).4r%(\$1-\$2:\$3-\$4\$5:widthD).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setE)r%(\$1-\$2:\$3-\$4\$5:enpoltimeE)r%(\$1-\$2:\$3-\$4\$5:pulsesE).2r%(\$1-\$2:\$3-\$4\$5:eventE)r%(\$1-\$2:\$3-\$4\$5:delayE).4r%(\$1-\$2:\$3-\$4\$5:widthE).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setF)r%(\$1-\$2:\$3-\$4\$5:enpoltimeF)r%(\$1-\$2:\$3-\$4\$5:pulsesF).2r%(\$1-\$2:\$3-\$4\$5:eventF)r%(\$1-\$2:\$3-\$4\$5:delayF).4r%(\$1-\$2:\$3-\$4\$5:widthF).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set0).1r%(\$1-\$2:\$3-\$4\$5:ITL0).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel0toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly0).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly0).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set1).1r%(\$1-\$2:\$3-\$4\$5:ITL1).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel1toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly1).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly1).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set2).1r%(\$1-\$2:\$3-\$4\$5:ITL2).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel2toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly2).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly2).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set3).1r%(\$1-\$2:\$3-\$4\$5:ITL3).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel3toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly3).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly3).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set4).1r%(\$1-\$2:\$3-\$4\$5:ITL4).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel4toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly4).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly4).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set5).1r%(\$1-\$2:\$3-\$4\$5:ITL5).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel5toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly5).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly5).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set6).1r%(\$1-\$2:\$3-\$4\$5:ITL6).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel6toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly6).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly6).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set7).1r%(\$1-\$2:\$3-\$4\$5:ITL7).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel7toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly7).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly7).1r";
    # control settings
	evre_ctrl_set;
    # Timestamp source
	evre_tmstmp_set;

    # PERFORM UPLOAD TO KEEP READINGS CORRECT
	eve_upload;
}

evr_download{
    # initialize the module
	evr_conf_set;
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set0)r%(\$1-\$2:\$3-\$4\$5:enpoltime0)r%(\$1-\$2:\$3-\$4\$5:pulses0).2r%(\$1-\$2:\$3-\$4\$5:event0)r%(\$1-\$2:\$3-\$4\$5:delay0).4r%(\$1-\$2:\$3-\$4\$5:width0).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set1)r%(\$1-\$2:\$3-\$4\$5:enpoltime1)r%(\$1-\$2:\$3-\$4\$5:pulses1).2r%(\$1-\$2:\$3-\$4\$5:event1)r%(\$1-\$2:\$3-\$4\$5:delay1).4r%(\$1-\$2:\$3-\$4\$5:width1).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set2)r%(\$1-\$2:\$3-\$4\$5:enpoltime2)r%(\$1-\$2:\$3-\$4\$5:pulses2).2r%(\$1-\$2:\$3-\$4\$5:event2)r%(\$1-\$2:\$3-\$4\$5:delay2).4r%(\$1-\$2:\$3-\$4\$5:width2).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set3)r%(\$1-\$2:\$3-\$4\$5:enpoltime3)r%(\$1-\$2:\$3-\$4\$5:pulses3).2r%(\$1-\$2:\$3-\$4\$5:event3)r%(\$1-\$2:\$3-\$4\$5:delay3).4r%(\$1-\$2:\$3-\$4\$5:width3).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set4)r%(\$1-\$2:\$3-\$4\$5:enpoltime4)r%(\$1-\$2:\$3-\$4\$5:pulses4).2r%(\$1-\$2:\$3-\$4\$5:event4)r%(\$1-\$2:\$3-\$4\$5:delay4).4r%(\$1-\$2:\$3-\$4\$5:width4).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set5)r%(\$1-\$2:\$3-\$4\$5:enpoltime5)r%(\$1-\$2:\$3-\$4\$5:pulses5).2r%(\$1-\$2:\$3-\$4\$5:event5)r%(\$1-\$2:\$3-\$4\$5:delay5).4r%(\$1-\$2:\$3-\$4\$5:width5).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set6)r%(\$1-\$2:\$3-\$4\$5:enpoltime6)r%(\$1-\$2:\$3-\$4\$5:pulses6).2r%(\$1-\$2:\$3-\$4\$5:event6)r%(\$1-\$2:\$3-\$4\$5:delay6).4r%(\$1-\$2:\$3-\$4\$5:width6).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set7)r%(\$1-\$2:\$3-\$4\$5:enpoltime7)r%(\$1-\$2:\$3-\$4\$5:pulses7).2r%(\$1-\$2:\$3-\$4\$5:event7)r%(\$1-\$2:\$3-\$4\$5:delay7).4r%(\$1-\$2:\$3-\$4\$5:width7).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set8)r%(\$1-\$2:\$3-\$4\$5:enpoltime8)r%(\$1-\$2:\$3-\$4\$5:pulses8).2r%(\$1-\$2:\$3-\$4\$5:event8)r%(\$1-\$2:\$3-\$4\$5:delay8).4r%(\$1-\$2:\$3-\$4\$5:width8).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_set9)r%(\$1-\$2:\$3-\$4\$5:enpoltime9)r%(\$1-\$2:\$3-\$4\$5:pulses9).2r%(\$1-\$2:\$3-\$4\$5:event9)r%(\$1-\$2:\$3-\$4\$5:delay9).4r%(\$1-\$2:\$3-\$4\$5:width9).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setA)r%(\$1-\$2:\$3-\$4\$5:enpoltimeA)r%(\$1-\$2:\$3-\$4\$5:pulsesA).2r%(\$1-\$2:\$3-\$4\$5:eventA)r%(\$1-\$2:\$3-\$4\$5:delayA).4r%(\$1-\$2:\$3-\$4\$5:widthA).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setB)r%(\$1-\$2:\$3-\$4\$5:enpoltimeB)r%(\$1-\$2:\$3-\$4\$5:pulsesB).2r%(\$1-\$2:\$3-\$4\$5:eventB)r%(\$1-\$2:\$3-\$4\$5:delayB).4r%(\$1-\$2:\$3-\$4\$5:widthB).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setC)r%(\$1-\$2:\$3-\$4\$5:enpoltimeC)r%(\$1-\$2:\$3-\$4\$5:pulsesC).2r%(\$1-\$2:\$3-\$4\$5:eventC)r%(\$1-\$2:\$3-\$4\$5:delayC).4r%(\$1-\$2:\$3-\$4\$5:widthC).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setD)r%(\$1-\$2:\$3-\$4\$5:enpoltimeD)r%(\$1-\$2:\$3-\$4\$5:pulsesD).2r%(\$1-\$2:\$3-\$4\$5:eventD)r%(\$1-\$2:\$3-\$4\$5:delayD).4r%(\$1-\$2:\$3-\$4\$5:widthD).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setE)r%(\$1-\$2:\$3-\$4\$5:enpoltimeE)r%(\$1-\$2:\$3-\$4\$5:pulsesE).2r%(\$1-\$2:\$3-\$4\$5:eventE)r%(\$1-\$2:\$3-\$4\$5:delayE).4r%(\$1-\$2:\$3-\$4\$5:widthE).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_otp_setF)r%(\$1-\$2:\$3-\$4\$5:enpoltimeF)r%(\$1-\$2:\$3-\$4\$5:pulsesF).2r%(\$1-\$2:\$3-\$4\$5:eventF)r%(\$1-\$2:\$3-\$4\$5:delayF).4r%(\$1-\$2:\$3-\$4\$5:widthF).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set0).1r%(\$1-\$2:\$3-\$4\$5:ITL0).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel0toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly0).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly0).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set1).1r%(\$1-\$2:\$3-\$4\$5:ITL1).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel1toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly1).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly1).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set2).1r%(\$1-\$2:\$3-\$4\$5:ITL2).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel2toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly2).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly2).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set3).1r%(\$1-\$2:\$3-\$4\$5:ITL3).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel3toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly3).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly3).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set4).1r%(\$1-\$2:\$3-\$4\$5:ITL4).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel4toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly4).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly4).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set5).1r%(\$1-\$2:\$3-\$4\$5:ITL5).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel5toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly5).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly5).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set6).1r%(\$1-\$2:\$3-\$4\$5:ITL6).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel6toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly6).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly6).1r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_out_set7).1r%(\$1-\$2:\$3-\$4\$5:ITL7).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:sel7toHW).1r\x00\x00%(\$1-\$2:\$3-\$4\$5:finedly7).2r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:rfdly7).1r";
    # control settings
	evre_ctrl_set;
    # Timestamp source
	evre_tmstmp_set;

    # PERFORM UPLOAD TO KEEP READINGS CORRECT
	evr_upload;
}

evg_download{
    # initialize the module
	evg_conf_set;
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set0).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen0).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv0.RVAL).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set1).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen1).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv1.RVAL).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set2).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen2).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv2.RVAL).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set3).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen3).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv3.RVAL).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set4).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen4).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv4.RVAL).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set5).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen5).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv5.RVAL).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set6).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen6).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv6.RVAL).4r";
    out "%(\$1-\$2:\$3-\$4\$5:cmd_mux_set7).1r\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxen7).1r\x00\x00\x00\x00%(\$1-\$2:\$3-\$4\$5:muxdiv7.RVAL).4r";
    # ac line settings
	evg_acline_set;
    # control settings
	evg_ctrl_set;
    # Timestamp souce
	evg_tmstmp_timesrc_set;

    # PERFORM UPLOAD TO KEEP READINGS CORRECT
	evg_upload;
}

fout_download{
    # initialize the module
	fout_conf_set;
    # control settings
	fout_ctrl_set;

    # DO NOT NEED TO UPLOAD AFTER DOWNLOAD: NO READBACK PV
}
